<!DOCTYPE html>
<HTML lang="en">
    <HEAD>
        <TITLE>HBNB</TITLE>
    </HEAD>
    <BODY>
        {% set ns = namespace(flag=false) %}
        {% for state in obj.values()|sort(attribute='name') %}
            
            {% if state.id == id %}
                {{ set_flag_true(l_flag) }}
                <H1>State: {{state.name}}</H1>
                <h3>cities:</h3>
                <UL>
                        <ul>    
                            {% if storagetype == db %}
                                {% for city in state.cities|sort(attribute='name') %}
                                    <li>{{city.id}}: <B>{{city.name}}</B></li>
                                {% endfor %}
                            {% else %}
                                {% for city in state.cities|sort(attribute='name') %}
                                    <li>{{city.id}}: <B>{{city.name}}</B></li>
                                {% endfor %}
                            {% endif %}
                        </ul>
                </UL>
            {% elif not l_flag['flag']  and loop.last %}
                <H1>Not found!</H1>            
            {% endif %}
            {{ flag }}
        {% endfor %}
    </BODY>
</HTML>